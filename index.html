<!DOCTYPE html>
<html>
<head>
	<title>Minesweeper Game</title>

	<link rel="stylesheet" type="text/css" href="styles.css">

	<script type="text/javascript" src="minesweeper.js"></script>
	<script type="text/javascript" src="scripts.js"></script>
</head>
<body>
	<!-- <p>Minesweeper game would go here</p> -->

	<div id="main">
		<header>
			<h1 id="title">minesweeper</h1>
		</header>

		<div id="menu">
			<div id="game-level">
				<label>
					<input type="radio" name="gameLevel" value="easy" checked>easy
				</label>
			
				<label>
					<input type="radio" name="gameLevel" value="medium">medium
				</label>

				<label>
					<input type="radio" name="gameLevel" value="hard">hard
				</label>
			</div>
			<div id="mines-left">90</div>
			<div id="timer"></div>
		</div>

		<div id="board"></div>
	</div>
	
	<script>
		(function () {
			var board = document.querySelector('#board');

			var levels = document.querySelectorAll('input[name="gameLevel"]');

			for (let node of levels) {
				if (node.checked) {
					createBoard(node.value);
				}

				node.onchange = function (event) {
					if (event.target.checked) {
						createBoard(event.target.value);
					}
				}
			}

			function createBoard(lvl) {
				minesweeper.newGame(lvl);

				board.innerHTML = '';

				board.style.gridTemplateColumns = `repeat(${minesweeper.columns}, 25px)`;
				board.style.gridTemplateRows = `repeat(${minesweeper.rows}, 25px)`;

				for (var i=0; i<minesweeper.rows; i++) {
					for (var j=0; j<minesweeper.columns; j++) {
						var span = document.createElement('span');

						span.setAttribute('id', '');

						span.style.gridRowStart = i+1;
						span.style.gridColumnStart = j+1;
						span.style.fontFamily = 'Consolas';

						span.innerText = minesweeper.getCell(i, j)

						board.appendChild(span);
					}
				}
			}
		})()	
	</script>
</body>
</html>